import{r as d,R as C,j as c}from"./app-DOUwxxJL.js";import{C as h,B as E,a as N,L as B,b as I,p as k,c as L,d as T}from"./chart-Cjf11WRC.js";const w="label";function x(t,a){typeof t=="function"?t(a):t&&(t.current=a)}function U(t,a){const e=t.options;e&&a&&Object.assign(e,a)}function j(t,a){t.labels=a}function D(t,a){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w;const i=[];t.datasets=a.map(r=>{const n=t.datasets.find(u=>u[e]===r[e]);return!n||!r.data||i.includes(n)?{...r}:(i.push(n),Object.assign(n,r),n)})}function $(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;const e={labels:[],datasets:[]};return j(e,t.labels),D(e,t.datasets,a),e}function S(t,a){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:n,type:u,data:l,options:o,plugins:f=[],fallbackContent:v,updateMode:y,...R}=t,g=d.useRef(null),s=d.useRef(null),p=()=>{g.current&&(s.current=new h(g.current,{type:u,data:$(l,n),options:o&&{...o},plugins:f}),x(a,s.current))},b=()=>{x(a,null),s.current&&(s.current.destroy(),s.current=null)};return d.useEffect(()=>{!r&&s.current&&o&&U(s.current,o)},[r,o]),d.useEffect(()=>{!r&&s.current&&j(s.current.config.data,l.labels)},[r,l.labels]),d.useEffect(()=>{!r&&s.current&&l.datasets&&D(s.current.config.data,l.datasets,n)},[r,l.datasets]),d.useEffect(()=>{s.current&&(r?(b(),setTimeout(p)):s.current.update(y))},[r,o,l.labels,l.datasets,y]),d.useEffect(()=>{s.current&&(b(),setTimeout(p))},[u]),d.useEffect(()=>(p(),()=>b()),[]),C.createElement("canvas",{ref:g,role:"img",height:e,width:i,...R},v)}const _=d.forwardRef(S);function z(t,a){return h.register(a),d.forwardRef((e,i)=>C.createElement(_,{...e,ref:i,type:t}))}const F=z("bar",E);h.register(N,B,I,k,L,T);const m=({title:t,todayValue:a,date:e,yesterdayValue:i,chartData:r,barColor:n,titleColor:u})=>{const l={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>`${f.dataset.label}: ${f.raw}`}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10},color:"rgb(176, 175, 153)"}},y:{grid:{display:!0},ticks:{font:{size:10},precision:0,color:"rgb(176, 175, 153)"}}}},o={labels:r.labels,datasets:[{label:t,data:r.values,backgroundColor:n||"rgba(75, 192, 192, 0.6)",borderColor:n||"rgba(75, 192, 192, 1)",borderWidth:1}]};return c.jsxs("div",{className:"bg-white dark:bg-indigo-900 text-center rounded-lg shadow-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h2",{className:"text-xl font-bold",style:{color:u||"inherit"},children:t}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e?`Tanggal Update : ${new Date(e).toLocaleDateString()}`:"Belum Diupdate"})]}),c.jsx("div",{className:"mt-4",children:c.jsx(F,{data:o,options:l})})]})};function V({statistikKunjungan:t}){const a=n=>{const u=t.lastFiveDaysData.map(o=>o.tanggal),l=t.lastFiveDaysData.map(o=>o[n]);return{labels:u,values:l}},e=a("rajal"),i=a("darurat"),r=a("ranap");return c.jsx("div",{className:"max-w-full mx-auto sm:px-5 lg:px-5 w-full",children:c.jsx("div",{className:"text-gray-900 dark:text-gray-100 w-full",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:[c.jsx(m,{title:"Rawat Jalan",titleColor:"rgba(109, 242, 97)",date:t.todayUpdated,chartData:e,barColor:"rgba(109, 242, 97, 0.6)"}),c.jsx(m,{title:"Rawat Darurat",titleColor:"rgba(245, 54, 121)",date:t.todayUpdated,chartData:i,barColor:"rgba(245, 54, 121, 0.6)"}),c.jsx(m,{title:"Rawat Inap",titleColor:"rgba(240, 240, 10)",date:t.todayUpdated,chartData:r,barColor:"rgba(240, 240, 10, 0.6)"})]})})})}export{V as default};
