import{G as v,j as e,S as N}from"./app-CG9IS7Vn.js";import{A as f}from"./AuthenticatedLayout-D8HwX_dG.js";import"./transition-DVb2jq_4.js";const y=s=>s?s.replace(" ","T"):"";function E({auth:s,kunjungan:a,ruanganList:c}){var o;const l=((o=s==null?void 0:s.user)==null?void 0:o.role)==="admin",{data:i,setData:n,put:x,processing:b}=v({ruangan_id:a.ruangan_id,tanggal:y(a.tanggal)}),g=r=>{if(r.preventDefault(),!l){alert("Anda tidak memiliki hak akses untuk mengubah data resep");return}x(route("toolsResep.update",a.nomor))},p=({label:r,value:h,onChange:u,options:j})=>e.jsxs("div",{className:"flex flex-col p-3 rounded bg-white dark:bg-indigo-900 border border-amber-300 text-sm",children:[e.jsx("label",{className:"text-amber-700 dark:text-amber-300 font-medium",children:r}),e.jsx("select",{value:h,onChange:u,disabled:!l,className:"mt-1 rounded px-2 py-1 bg-white dark:bg-indigo-950 border border-amber-300 disabled:opacity-60",children:j.map(t=>e.jsxs("option",{value:t.id,children:[t.id," - ",t.namaRuangan]},t.id))})]});return e.jsxs(f,{user:s.user,children:[e.jsx(N,{title:"Tools Edit Resep"}),e.jsx("div",{className:"py-5",children:e.jsx("div",{className:"max-w-8xl mx-auto sm:px-6 lg:px-5",children:e.jsx("div",{className:"bg-white dark:bg-indigo-900 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100 dark:bg-indigo-950",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:"Edit Resep"}),!l&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Anda hanya memiliki akses lihat (read-only)"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs(R,{title:"Informasi Resep",children:[e.jsxs(m,{children:[e.jsx(d,{label:"Nomor Resep",value:a.nomor}),e.jsx(d,{label:"NORM",value:a.norm}),e.jsx(d,{label:"Nama Pasien",value:a.nama_pasien}),e.jsx(d,{label:"Order Oleh",value:a.dpjp})]}),e.jsxs(m,{children:[e.jsx(d,{label:"Berat Badan (kg)",value:a.berat_badan}),e.jsx(d,{label:"Tinggi Badan (cm)",value:a.tinggi_badan}),e.jsx(d,{label:"Pemberi Resep",value:a.pemberi_resep}),e.jsx(d,{label:"Ruangan Tujuan Saat Ini",value:`${a.ruangan_id} - ${a.ruangan_tujuan}`})]})]}),e.jsx(w,{title:"Edit Data Resep",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(p,{label:"Ruangan Tujuan",value:i.ruangan_id,onChange:r=>n("ruangan_id",r.target.value),options:c}),e.jsxs("div",{className:"flex flex-col p-3 rounded bg-white dark:bg-indigo-900 border border-amber-300 text-sm",children:[e.jsx("label",{className:"text-amber-700 dark:text-amber-300 font-medium",children:"Tanggal Resep"}),e.jsx("input",{type:"datetime-local",value:i.tanggal,onChange:r=>n("tanggal",r.target.value),disabled:!l,className:`mt-1 rounded px-2 py-1
                                                    bg-white dark:bg-indigo-950
                                                    border border-amber-300
                                                    disabled:opacity-60`})]})]})}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("a",{href:route("toolsResep.index"),className:"px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white text-sm",children:"Kembali"}),l&&e.jsx("button",{type:"submit",disabled:b,className:"px-5 py-2 rounded bg-amber-500 hover:bg-amber-600 text-gray-900 font-semibold text-sm disabled:opacity-50",children:"Simpan"})]})]})]})})})})]})}const R=({title:s,children:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold border-b pb-2",children:s}),a]}),w=({title:s,children:a})=>e.jsxs("div",{className:"space-y-4 border-l-4 border-amber-400 bg-amber-50/60 dark:bg-indigo-800/40 p-4 rounded-md",children:[e.jsx("h2",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:s}),a]}),m=({children:s})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:s}),d=({label:s,value:a})=>e.jsxs("div",{className:"flex flex-col p-3 rounded bg-gray-50 dark:bg-indigo-800 border text-sm",children:[e.jsx("span",{className:"text-gray-200",children:s}),e.jsx("span",{className:"font-medium text-yellow-700 dark:text-yellow-500",children:a??"-"})]});export{E as default};
