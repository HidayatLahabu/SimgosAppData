import{r as l,j as r}from"./app-Cb5ohaRI.js";import{C as d,r as p}from"./chart-DC7W9FPT.js";d.register(...p);const C=({rajalBulanan:n})=>{const o=l.useRef(null),t=l.useRef(null),i=new Date().getFullYear();return l.useEffect(()=>{const u=o.current.getContext("2d");t.current&&t.current.destroy();const s=n.slice(0,12).reverse().filter(e=>e.jumlah>0),b=s.map(e=>e.subUnit||"Tidak diketahui"),f=s.map(e=>e.jumlah),c=s.map((e,a)=>({label:b[a],rajalCount:f[a]})).sort((e,a)=>a.rajalCount-e.rajalCount),m=c.map(e=>e.label),x=c.map(e=>e.rajalCount);return t.current=new d(u,{type:"bar",data:{labels:m,datasets:[{label:`${i}`,data:x,backgroundColor:"rgba(21, 73, 194)",borderColor:"rgba(21, 73, 194)",borderWidth:1}]},options:{responsive:!0,indexAxis:"y",scales:{x:{stacked:!0,beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)"}},y:{stacked:!0,ticks:{color:"rgb(176, 175, 153)"}}}}}),()=>{t.current&&t.current.destroy()}},[n]),r.jsx("div",{className:"p-5 w-full",children:r.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:r.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100",children:[r.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Rawat Jalan Per Unit Tahun Ini"}),r.jsx("canvas",{ref:o})]})})})};export{C as default};
