import{r as g,j as e}from"./app-CG9IS7Vn.js";import{C as i,r as A}from"./chart-BMDz-jMM.js";i.register(...A);const z=({tahunIni:n,tahunLalu:l,laporanRl32:u,laporanRl32Lalu:b})=>{const s=g.useRef(null);let t=null;return g.useEffect(()=>{t&&t.destroy();const c=s.current.getContext("2d"),o=u.filter(r=>r.rujukan>100||r.nonrujukan>100||r.dirawat>100||r.dirujuk>100||r.pulang>100||r.meninggal>100||r.doa>100),d=b.filter(r=>r.rujukan>100||r.nonrujukan>100||r.dirawat>100||r.dirujuk>100||r.pulang>100||r.meninggal>100||r.doa>100),C=o.map(r=>r.jenis_pelayanan),k=o.map(r=>r.rujukan),p=o.map(r=>r.nonrujukan),j=o.map(r=>r.dirawat),h=o.map(r=>r.dirujuk),f=o.map(r=>r.pulang),m=o.map(r=>r.meninggal),x=o.map(r=>r.doa),w=d.map(r=>r.rujukan),T=d.map(r=>r.nonrujukan),W=d.map(r=>r.dirawat),$=d.map(r=>r.dirujuk),D=d.map(r=>r.pulang),R=d.map(r=>r.meninggal),v=d.map(r=>r.doa),a=r=>r.filter(N=>N>100),y=[{label:`Rujukan ${n}`,data:a(k),borderColor:"rgba(21, 73, 194)",backgroundColor:"rgba(21, 73, 194)",borderWidth:1},{label:`Non-Rujukan ${n}`,data:a(p),borderColor:"rgba(245, 166, 7)",backgroundColor:"rgba(245, 166, 7)",borderWidth:1},{label:`Dirawat ${n}`,data:a(j),borderColor:"rgba(7, 245, 166)",backgroundColor:"rgba(7, 245, 166)",borderWidth:1},{label:`Dirujuk ${n}`,data:a(h),borderColor:"rgba(255, 99, 132)",backgroundColor:"rgba(255, 99, 132)",borderWidth:1},{label:`Pulang ${n}`,data:a(f),borderColor:"rgba(54, 162, 235)",backgroundColor:"rgba(54, 162, 235)",borderWidth:1},{label:`Meninggal ${n}`,data:a(m),borderColor:"rgba(153, 102, 255)",backgroundColor:"rgba(153, 102, 255)",borderWidth:1},{label:`DOA ${n}`,data:a(x),borderColor:"rgba(255, 159, 64)",backgroundColor:"rgba(255, 159, 64)",borderWidth:1},{label:`Rujukan ${l}`,data:a(w),borderColor:"rgba(21, 73, 194, 0.4)",backgroundColor:"rgba(21, 73, 194, 0.4)",borderWidth:1},{label:`Non-Rujukan ${l}`,data:a(T),borderColor:"rgba(245, 166, 7, 0.4)",backgroundColor:"rgba(245, 166, 7, 0.4)",borderWidth:1},{label:`Dirawat ${l}`,data:a(W),borderColor:"rgba(7, 245, 166, 0.4)",backgroundColor:"rgba(7, 245, 166, 0.4)",borderWidth:1},{label:`Dirujuk ${l}`,data:a($),borderColor:"rgba(255, 99, 132, 0.4)",backgroundColor:"rgba(255, 99, 132, 0.4)",borderWidth:1},{label:`Pulang ${l}`,data:a(D),borderColor:"rgba(54, 162, 235, 0.4)",backgroundColor:"rgba(54, 162, 235, 0.4)",borderWidth:1},{label:`Meninggal ${l}`,data:a(R),borderColor:"rgba(153, 102, 255, 0.4)",backgroundColor:"rgba(153, 102, 255, 0.4)",borderWidth:1},{label:`DOA ${l}`,data:a(v),borderColor:"rgba(255, 159, 64, 0.4)",backgroundColor:"rgba(255, 159, 64, 0.4)",borderWidth:1}].filter(r=>r.data.length>0);return t=new i(c,{type:"bar",data:{labels:C,datasets:y},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"rgb(176, 175, 153)",font:{size:10}}}},scales:{y:{beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)",font:{size:10}}},x:{ticks:{color:"rgb(176, 175, 153)",font:{size:10}}}}}}),()=>{t&&t.destroy()}},[u,b]),e.jsx("div",{className:"p-5 flex flex-wrap w-full",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-full mx-auto w-full",children:e.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:e.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:[e.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Laporan RL 3.2 - RAWAT DARURAT"}),e.jsx("canvas",{ref:s})]})})})})})};export{z as default};
