import{r as o,j as r}from"./app-CijSBxPa.js";import{C as x,r as y}from"./chart-DC7W9FPT.js";x.register(...y);const v=({tahunIni:n,tahunLalu:c,laporanRl51:l,laporanRl51Lalu:d})=>{const s=o.useRef(null),e=o.useRef(null);return o.useEffect(()=>{if(!s.current)return;e.current&&e.current.destroy();const g=s.current.getContext("2d"),i=t=>{const b={};return(t||[]).forEach(({deskripsi:w,jumlah:j})=>{b[w]=Number(j)||0}),b},u=i(l),f=i(d),a=Array.from(new Set([...Object.keys(u),...Object.keys(f)])),h=a.map(t=>u[t]||0),p=a.map(t=>f[t]||0),m=[{label:`Tahun ${n}`,data:h,backgroundColor:"rgba(37, 83, 247, 1)",borderColor:"rgba(37, 83, 247, 1)",borderWidth:1},{label:`Tahun ${c}`,data:p,backgroundColor:"rgba(217, 232, 53, 1)",borderColor:"rgba(217, 232, 53, 1)",borderWidth:1}];return e.current=new x(g,{type:"bar",data:{labels:a,datasets:m},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"rgb(176, 175, 153)",font:{size:12}}}},scales:{y:{beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)",font:{size:12}}},x:{ticks:{color:"rgb(176, 175, 153)",font:{size:12}}}}}}),()=>{e.current&&e.current.destroy()}},[l,d,n,c]),r.jsx("div",{className:"p-5 flex flex-wrap w-full",children:r.jsx("div",{className:"w-full",children:r.jsx("div",{className:"max-w-full mx-auto w-full",children:r.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:r.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:[r.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Laporan RL 5.1 - PENGUNJUNG"}),r.jsx("canvas",{ref:s})]})})})})})};export{v as default};
