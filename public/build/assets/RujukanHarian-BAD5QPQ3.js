import{r as i,j as a}from"./app-BmgMlp08.js";import{C as c,r as m}from"./chart-DC7W9FPT.js";c.register(...m);const w=({rujukanHarian:l})=>{const o=i.useRef(null);let t=null;return i.useEffect(()=>{t&&t.destroy();const u=o.current.getContext("2d"),n=new Date,d=new Date;d.setDate(n.getDate()-7);const r=l.filter(e=>{const s=new Date(e.tanggal);return s>=d&&s<=n});r.sort((e,s)=>new Date(e.tanggal)-new Date(s.tanggal));const g=r.map(e=>new Date(e.tanggal).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})),b=r.map(e=>e.masuk),f=r.map(e=>e.keluar),x=r.map(e=>e.balik);return t=new c(u,{type:"line",data:{labels:g,datasets:[{label:"Rujukan Masuk",data:b,borderColor:"rgba(105, 21, 194)",backgroundColor:"rgba(105, 21, 194, 0.5)",borderWidth:2,fill:!0,tension:.4},{label:"Rujukan Keluar",data:f,borderColor:"rgba(182, 194, 21)",backgroundColor:"rgba(182, 194, 21, 0.3)",borderWidth:2,fill:!0,tension:.4},{label:"Rujukan Balik",data:x,borderColor:"rgba(194, 21, 133)",backgroundColor:"rgba(194, 21, 133, 0.3)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)"}},x:{ticks:{color:"rgb(176, 175, 153)"}}}}}),()=>{t&&t.destroy()}},[l]),a.jsx("div",{className:"p-5 flex flex-wrap w-full",children:a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"max-w-full mx-auto w-full",children:a.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:a.jsx("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:a.jsxs("div",{children:[a.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Rujukan Harian"}),a.jsx("canvas",{ref:o})]})})})})})})};export{w as default};
