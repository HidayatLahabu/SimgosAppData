import{r as t,j as e}from"./app-CWcKCO0X.js";import{C as i,r as N}from"./chart-BMDz-jMM.js";i.register(...N);const T=({tahunIni:n,tahunLalu:s,laporanRl51:o,laporanRl51Lalu:u})=>{const a=t.useRef(null),r=t.useRef(null);return t.useEffect(()=>{if(!a.current)return;r.current&&r.current.destroy();const b=a.current.getContext("2d"),c=w=>{const g={};return(w||[]).forEach(({deskripsi:P,jumlah:L})=>{g[P]=Number(L)||0}),g},l=c(o),d=c(u),f=l["Pengunjung Baru"]||0,x=l["Pengunjung Lama"]||0,h=d["Pengunjung Baru"]||0,m=d["Pengunjung Lama"]||0,p=["Pengunjung Baru","Pengunjung Lama"],j=[{label:`Tahun ${n}`,data:[f,x],backgroundColor:"rgba(75, 192, 192, 1)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,categoryPercentage:.8,barPercentage:.9},{label:`Tahun ${s}`,data:[h,m],backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 0.7)",borderWidth:1,categoryPercentage:.8,barPercentage:.9}];return r.current=new i(b,{type:"bar",data:{labels:p,datasets:j},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"rgb(176, 175, 153)",font:{size:10}}}},scales:{y:{beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)",font:{size:10}}},x:{ticks:{color:"rgb(176, 175, 153)",font:{size:10}}}}}}),()=>{r.current&&r.current.destroy()}},[o,u,n,s]),e.jsx("div",{className:"p-5 flex flex-wrap w-full",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-full mx-auto w-full",children:e.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:e.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:[e.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Laporan RL 5.1 - PENGUNJUNG"}),e.jsx("canvas",{ref:a})]})})})})})};export{T as default};
