import{r as x,j as e}from"./app-EtsumeU4.js";import{C as k,r as j}from"./chart-DC7W9FPT.js";k.register(...j);const C=({ranapBulananIni:b,ranapBulananLalu:f,tahunIni:l,tahunLalu:t})=>{const g=x.useRef(null);let s=null;return x.useEffect(()=>{s&&s.destroy();const h=g.current.getContext("2d"),n=Array(12).fill(0),o=Array(12).fill(0),u=Array(12).fill(0),c=Array(12).fill(0),d=Array(12).fill(0),i=Array(12).fill(0);b.forEach(a=>{const r=a.bulan-1;n[r]=a.masuk,o[r]=a.dirawat,u[r]=a.keluar}),f.forEach(a=>{const r=a.bulan-1;c[r]=a.masuk,d[r]=a.dirawat,i[r]=a.keluar});const p={labels:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],datasets:[{label:`Masuk (${t})`,data:c,backgroundColor:"rgba(255, 99, 132, 0.5)",stack:"tahunLalu"},{label:`Dirawat (${t})`,data:d,backgroundColor:"rgba(49, 180, 245, 0.5)",stack:"tahunLalu"},{label:`Keluar (${t})`,data:i,backgroundColor:"rgba(69, 196, 88, 0.5)",stack:"tahunLalu"},{label:`Masuk (${l})`,data:n,backgroundColor:"rgba(255, 99, 132)",stack:"tahunIni"},{label:`Dirawat (${l})`,data:o,backgroundColor:"rgba(49, 180, 245)",stack:"tahunIni"},{label:`Keluar (${l})`,data:u,backgroundColor:"rgba(69, 196, 88)",stack:"tahunIni"}]},w=[...n,...o,...u,...c,...d,...i],m=Math.max(...w)*1,y={responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(a){return`${a.dataset.label}: ${a.raw}`}}}},scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0,suggestedMax:m}}};return s=new k(h,{type:"bar",data:p,options:y}),()=>{s&&s.destroy()}},[b,f,l,t]),e.jsx("div",{className:"p-5 flex flex-col w-full h-full",children:e.jsx("div",{className:"max-w-full mx-auto w-full",children:e.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:e.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:[e.jsxs("h1",{className:"uppercase text-center font-bold text-xl",children:["Rawat Inap Bulanan Tahun ",l," dan ",t]}),e.jsx("div",{children:e.jsx("canvas",{ref:g})})]})})})})};export{C as default};
