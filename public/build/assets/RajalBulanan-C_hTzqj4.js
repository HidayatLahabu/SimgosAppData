import{r as n,j as a}from"./app-LQCerS8P.js";import{C as u,r as g}from"./chart-DC7W9FPT.js";u.register(...g);const C=({rajalBulanan:l})=>{const o=n.useRef(null),t=n.useRef(null),d=new Date().getFullYear();return n.useEffect(()=>{const i=o.current.getContext("2d");t.current&&t.current.destroy();const s=l.slice(0,12).reverse().filter(e=>e.jumlah>0),b=s.map(e=>e.subUnit||"Tidak diketahui"),f=s.map(e=>e.jumlah),c=s.map((e,r)=>({label:b[r],rajalCount:f[r]})).sort((e,r)=>r.rajalCount-e.rajalCount),m=c.map(e=>e.label),x=c.map(e=>e.rajalCount);return t.current=new u(i,{type:"bar",data:{labels:m,datasets:[{label:`${d}`,data:x,backgroundColor:"rgba(21, 73, 194)",borderColor:"rgba(21, 73, 194)",borderWidth:1}]},options:{responsive:!0,indexAxis:"y",scales:{x:{stacked:!0,beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)"}},y:{stacked:!0,ticks:{color:"rgb(176, 175, 153)"}}}}}),()=>{t.current&&t.current.destroy()}},[l]),a.jsx("div",{className:"p-5 w-full",children:a.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:a.jsxs("div",{className:"p-5 text-gray-900 dark:text-gray-100",children:[a.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Kunjungan Rawat Jalan Tahun Ini"}),a.jsx("canvas",{ref:o})]})})})};export{C as default};
