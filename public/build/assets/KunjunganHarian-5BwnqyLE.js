import{r as c,j as t}from"./app-DAEzrY2j.js";import{C as i,r as m}from"./chart-Cjf11WRC.js";i.register(...m);const h=({kunjunganHarian:o})=>{const l=c.useRef(null);let e=null;return c.useEffect(()=>{e&&e.destroy();const g=l.current.getContext("2d"),n=new Date,d=new Date;d.setDate(n.getDate()-7);const r=o.filter(a=>{const s=new Date(a.tanggal);return s>=d&&s<=n});r.sort((a,s)=>new Date(a.tanggal)-new Date(s.tanggal));const u=r.map(a=>new Date(a.tanggal).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})),b=r.map(a=>a.rajal),x=r.map(a=>a.darurat),f=r.map(a=>a.ranap);return e=new i(g,{type:"bar",data:{labels:u,datasets:[{label:"Rawat Jalan",data:b,borderColor:"rgba(21, 73, 194)",backgroundColor:"rgba(21, 73, 194)",borderWidth:1},{label:"Rawat Darurat",data:x,borderColor:"rgba(245, 166, 7)",backgroundColor:"rgba(245, 166, 7)",borderWidth:1},{label:"Rawat Inap",data:f,borderColor:"rgba(7, 245, 166)",backgroundColor:"rgba(7, 245, 166)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{color:"rgb(176, 175, 153)"}},x:{ticks:{color:"rgb(176, 175, 153)"}}}}}),()=>{e&&e.destroy()}},[o]),t.jsx("div",{className:"p-5 flex flex-wrap w-full",children:t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"max-w-full mx-auto w-full",children:t.jsx("div",{className:"bg-white dark:bg-indigo-950 overflow-hidden shadow-sm sm:rounded-lg w-full",children:t.jsx("div",{className:"p-5 text-gray-900 dark:text-gray-100 w-full",children:t.jsxs("div",{children:[t.jsx("h1",{className:"uppercase text-center font-bold text-xl",children:"Kunjungan Harian"}),t.jsx("canvas",{ref:l})]})})})})})})};export{h as default};
