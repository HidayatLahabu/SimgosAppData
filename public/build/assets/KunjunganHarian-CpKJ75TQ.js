import{r as d,R as C,j as l}from"./app-DZ56VpWn.js";import{C as h,B as E,a as N,L as I,b as k,p as B,c as L,d as T}from"./chart-DTMVf8OI.js";const j="label";function y(t,a){typeof t=="function"?t(a):t&&(t.current=a)}function U(t,a){const e=t.options;e&&a&&Object.assign(e,a)}function w(t,a){t.labels=a}function D(t,a){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j;const i=[];t.datasets=a.map(r=>{const n=t.datasets.find(u=>u[e]===r[e]);return!n||!r.data||i.includes(n)?{...r}:(i.push(n),Object.assign(n,r),n)})}function $(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j;const e={labels:[],datasets:[]};return w(e,t.labels),D(e,t.datasets,a),e}function K(t,a){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:n,type:u,data:o,options:c,plugins:f=[],fallbackContent:v,updateMode:x,...R}=t,g=d.useRef(null),s=d.useRef(null),p=()=>{g.current&&(s.current=new h(g.current,{type:u,data:$(o,n),options:c&&{...c},plugins:f}),y(a,s.current))},b=()=>{y(a,null),s.current&&(s.current.destroy(),s.current=null)};return d.useEffect(()=>{!r&&s.current&&c&&U(s.current,c)},[r,c]),d.useEffect(()=>{!r&&s.current&&w(s.current.config.data,o.labels)},[r,o.labels]),d.useEffect(()=>{!r&&s.current&&o.datasets&&D(s.current.config.data,o.datasets,n)},[r,o.datasets]),d.useEffect(()=>{s.current&&(r?(b(),setTimeout(p)):s.current.update(x))},[r,c,o.labels,o.datasets,x]),d.useEffect(()=>{s.current&&(b(),setTimeout(p))},[u]),d.useEffect(()=>(p(),()=>b()),[]),C.createElement("canvas",{ref:g,role:"img",height:e,width:i,...R},v)}const S=d.forwardRef(K);function _(t,a){return h.register(a),d.forwardRef((e,i)=>C.createElement(S,{...e,ref:i,type:t}))}const z=_("bar",E);h.register(N,I,k,B,L,T);const m=({title:t,todayValue:a,date:e,yesterdayValue:i,chartData:r,barColor:n,titleColor:u})=>{const o={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>`${f.dataset.label}: ${f.raw}`}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10},color:"rgb(176, 175, 153)"}},y:{grid:{display:!0},ticks:{font:{size:10},precision:0,color:"rgb(176, 175, 153)"}}}},c={labels:r.labels,datasets:[{label:t,data:r.values,backgroundColor:n||"rgba(75, 192, 192, 0.6)",borderColor:n||"rgba(75, 192, 192, 1)",borderWidth:1}]};return l.jsxs("div",{className:"bg-white dark:bg-indigo-950 shadow-md rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:u||"inherit"},children:t}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e?`Tanggal Update : ${new Date(e).toLocaleDateString()}`:"Belum Diupdate"})]}),l.jsx("div",{className:"mt-4",children:l.jsx(z,{data:c,options:o})})]})};function V({statistikKunjungan:t}){const a=n=>{const u=t.lastFiveDaysData.map(c=>c.tanggal),o=t.lastFiveDaysData.map(c=>c[n]);return{labels:u,values:o}},e=a("rajal"),i=a("darurat"),r=a("ranap");return l.jsxs("div",{className:"max-w-full mx-auto sm:px-5 lg:px-5 w-full",children:[l.jsx("h1",{className:"uppercase text-center font-extrabold text-2xl text-indigo-700 dark:text-yellow-400",children:"Informasi Kunjungan"}),l.jsx("div",{className:"text-gray-900 dark:text-gray-100 w-full",children:l.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:[l.jsx(m,{title:"Rawat Jalan",titleColor:"rgba(109, 242, 97)",date:t.todayUpdated,chartData:e,barColor:"rgba(109, 242, 97, 0.6)"}),l.jsx(m,{title:"Rawat Darurat",titleColor:"rgba(245, 54, 121)",date:t.todayUpdated,chartData:i,barColor:"rgba(245, 54, 121, 0.6)"}),l.jsx(m,{title:"Rawat Inap",titleColor:"rgba(240, 240, 10)",date:t.todayUpdated,chartData:r,barColor:"rgba(240, 240, 10, 0.6)"})]})})]})}export{V as default};
